<!DOCTYPE html>
<html xmlns:th="http://thymeleaf.org">

<head>
<title>Electas</title>
<link rel="icon" href="pictures/electas.png">
<meta charset="utf-8">
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
	type="text/css">
<link href="css/profileCss.css" rel="stylesheet" type="text/css"
	id="theme">

</head>

<body class="m-0 h-100 p-0">
	<div class="row h-100">
		<div
			class="col-3 h-100 w-25 col-sm-3 col-md-3 p-0 mr-1 bg-primary col-lg-3">
<!-- 			style="background-image: linear-gradient(to bottom, rgba(primary), rgba(secondary)); background-position: top left; background-size: 100%; background-repeat: repeat;"> -->
			<nav
				class="colavbar navbar-expand-mx h-100 w-100 navbar-dark my-0 mx-2 text-light">
<!-- 				style="background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0.2), rgba(30, 0, 255)); background-position: top left; background-size: 100%; background-repeat: repeat;"> -->
				<div class="col ml-0" id="navbar12" style="">
					<img class="img-fluid d-block rounded-circle float-left pt-2"
						src="pictures/electas.png" width="30" height="30"> <a
						class="navbar-brand d-none d-md-block" href="#" style=""> <b
						class="text-center">&nbsp; Electas</b>
					</a>
					<ul class="navbar-nav mn-auto">
						<li class="nav-item font-weight-bold text-light"><a
							class="nav-link" href="#" onclick="home()">Home</a></li>
						<li class="nav-item text-white font-weight-bold"><a
							class="nav-link" href="#" onclick="election()">Election</a></li>
						<li class="nav-item text-white font-weight-bold"><a
							class="nav-link" href="#" onclick="profile()">profile</a></li>
						<li class="nav-item text-white font-weight-bold"><a
							class="nav-link" href="#" onclick="help()">Help</a></li>
					</ul>
					<div class="row p-0 pt-0 pb-0"></div>
					<div class="row h-25 pt-1 pb-5"></div>
					<div class="row p-5 pb-5 pt-5 h-25"></div>
					<div class="row p-5 pb-5 pt-5 h-25"></div>
					<form action="">
						<div class="btn-group">
							<a href="/inAs/ROLE_VOTER" class="btn btn-primary">voter</a> <a
								href="/inAs/ROLE_CANDIDATE" class="btn btn-dark">candidate</a> <a
								href="/inAs/ROLE_ADMINISTRATOR" class="btn btn-light">administrator</a>
						</div>
					</form>
					<div sec:authorize="isAuthenticated()"
						class="float-bottom pt-4 pl-1">
						<form action="/logout" method="post" class="float-left">
							<input type="hidden" th:name="${_csrf.parameterName}"
								th:value="${_csrf.token}" />
							<button type="submit" class="btn text-dark border border-secondary">Logout</button>
						</form>
					</div>

				</div>
			</nav>
		</div>


		<div id="replace"
			class="col-md-8 col-sm-8 col-8 col-lg-8 border-left border-primary m-0 overflow-auto">
			Content goes here</div>
	</div>

	<script th:replace="fragments/scripts_imports :: sources"></script>





	<script th:inline="javascript">
		$(window).on('load', function() {

			//call function when page is loaded
			getContent();

			//set on change listener

			function getContent() {
				//pick theme
				

				//create url to request fragment
				//load fragment and replace content
				$('#replace').load("/nav/home");
			}			
		});

		function home() {
			$('#replace').load("/nav/home");
		}

		function election() {
			$('#replace').load("/nav/election");
		}

		function profile() {
			$('#replace').load("/nav/profile");
		}

		function help() {
			$('#replace').load("/nav/help");
		}
		
		
		
	</script>
<!-- 	loading style sheets -->
	<script th:inline="javascript">
	window.onload = function() {
		console.log('hello world');
		
		var g = [[${mainUser.inAs}]];
		console.log('hello world');
		if ( g === 'ROLE_VOTER') {
			//console.log('hello voter');
			document.getElementById('theme').href ="css/profileCss.css";
		}
		else if ( g === 'ROLE_CANDIDATE') {
			document.getElementById('theme').href = "css/admin.css";
		}
		else if ( g === 'ROLE_ADMINISTRATOR') {
			document.getElementById('theme').href = "css/candi.css";
		}
		};
	</script>
</body>
</html>